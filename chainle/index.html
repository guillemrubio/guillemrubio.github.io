<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8">
Â  <title>Chainle: The Synonym Game ğŸ”—</title>
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  <style>
Â  Â  /* --- Root Variables (Light Mode) --- */
Â  Â  :root {
Â  Â  Â  --font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
Â  Â  Â  --bg-color: #f0f4f8; /* Very light blue-gray */
Â  Â  Â  --text-color: #1e293b; /* Dark slate */
Â  Â  Â  --container-bg: #ffffff;
Â  Â  Â  --border-color: #cbd5e1;
Â  Â  Â  --primary-color: #4c51bf; /* Deep indigo */
Â  Â  Â  --secondary-color: #64748b; /* Medium gray-blue */
Â  Â  Â  --success-color: #10b981; /* Emerald green */
Â  Â  Â  --error-color: #ef4444; /* Bright red */
Â  Â  Â  --info-color: #3b82f6; /* Azure blue for feedback */
Â  Â  Â  --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
Â  Â  Â  --radius: 12px;
Â  Â  Â  --input-padding: 18px;
Â  Â  }

Â  Â  /* --- Dark Mode --- */
Â  Â  body.dark-mode {
Â  Â  Â  --bg-color: #1f2937;
Â  Â  Â  --text-color: #f3f4f6;
Â  Â  Â  --container-bg: #374151;
Â  Â  Â  --border-color: #4b5563;
Â  Â  Â  --primary-color: #6366f1; /* Brighter indigo */
Â  Â  Â  --secondary-color: #9ca3af;
Â  Â  Â  --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.15);
Â  Â  Â  --hint-bg: #4c51bf;
Â  Â  Â  --hint-text: #e0e7ff;
Â  Â  }

Â  Â  /* --- Base Styling & Layout --- */
Â  Â  body {
Â  Â  Â  font-family: var(--font-family);
Â  Â  Â  text-align: center;
Â  Â  Â  margin: 0;
Â  Â  Â  padding: 40px 15px;
Â  Â  Â  background-color: var(--bg-color);
Â  Â  Â  color: var(--text-color);
Â  Â  Â  transition: background-color 0.4s, color 0.4s;
Â  Â  }
Â  Â  main {
Â  Â  Â  background-color: var(--container-bg);
Â  Â  Â  padding: 30px;
Â  Â  Â  border-radius: var(--radius);
Â  Â  Â  box-shadow: var(--shadow);
Â  Â  Â  width: 95%;
Â  Â  Â  max-width: 520px;
Â  Â  Â  margin: auto;
Â  Â  }

Â  Â  /* --- Header & Score (using <header> and <aside>) --- */
Â  Â  header {
Â  Â  Â  display: flex;
Â  Â  Â  justify-content: space-between;
Â  Â  Â  align-items: center;
Â  Â  Â  border-bottom: 2px solid var(--border-color);
Â  Â  Â  padding-bottom: 15px;
Â  Â  Â  margin-bottom: 25px;
Â  Â  }
Â  Â  h1 {
Â  Â  Â  font-size: 32px;
Â  Â  Â  font-weight: 800;
Â  Â  Â  color: var(--primary-color);
Â  Â  Â  letter-spacing: 0.5px;
Â  Â  Â  margin: 0;
Â  Â  }
Â  Â  aside.score-and-toggle {
Â  Â  Â  display: flex;
Â  Â  Â  gap: 15px;
Â  Â  Â  align-items: center;
Â  Â  }
Â  Â  .score {
Â  Â  Â  font-size: 20px;
Â  Â  Â  font-weight: 600;
Â  Â  Â  color: var(--secondary-color);
Â  Â  Â  transition: color 0.5s; /* Smooth score change */
Â  Â  }
Â  Â  .dark-mode-toggle {
Â  Â  Â  cursor: pointer;
Â  Â  Â  font-size: 24px;
Â  Â  }

Â  Â  /* --- Word Display (using <section>) --- */
Â  Â  section.word-display {
Â  Â  Â  font-size: 44px;
Â  Â  Â  font-weight: 900;
Â  Â  Â  margin: 30px 0 20px;
Â  Â  Â  padding: 25px 15px;
Â  Â  Â  background-color: var(--primary-color);
Â  Â  Â  color: white;
Â  Â  Â  border-radius: var(--radius);
Â  Â  Â  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
Â  Â  Â  letter-spacing: 2px;
Â  Â  }
Â  Â  .pos-tag {
Â  Â  Â  font-size: 18px;
Â  Â  Â  opacity: 0.8;
Â  Â  Â  margin-left: 10px;
Â  Â  Â  font-weight: 500;
Â  Â  Â  display: inline-block;
Â  Â  }

Â  Â  /* --- Input & Buttons --- */
Â  Â  input {
Â  Â  Â  padding: var(--input-padding);
Â  Â  Â  width: 100%; 
Â  Â  Â  font-size: 18px;
Â  Â  Â  border: 2px solid var(--border-color);
Â  Â  Â  border-radius: var(--radius);
Â  Â  Â  box-sizing: border-box;
Â  Â  Â  background-color: var(--container-bg);
Â  Â  Â  color: var(--text-color);
Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  transition: border-color 0.3s, box-shadow 0.3s;
Â  Â  }
Â  Â  input:focus {
Â  Â  Â  border-color: var(--primary-color);
Â  Â  Â  box-shadow: 0 0 0 4px rgba(76, 81, 191, 0.2);
Â  Â  Â  outline: none;
Â  Â  }

Â  Â  .button-group {
Â  Â  Â  display: grid;
Â  Â  Â  grid-template-columns: 3fr 1fr 1fr;
Â  Â  Â  gap: 10px;
Â  Â  Â  margin-top: 10px;
Â  Â  }
Â  Â  button {
Â  Â  Â  padding: 14px 10px;
Â  Â  Â  font-size: 16px;
Â  Â  Â  border: none;
Â  Â  Â  border-radius: var(--radius);
Â  Â  Â  cursor: pointer;
Â  Â  Â  font-weight: 700;
Â  Â  Â  transition: background-color 0.2s, transform 0.1s, box-shadow 0.2s;
Â  Â  }

Â  Â  #submitButton {
Â  Â  Â  background-color: var(--primary-color);
Â  Â  Â  color: white;
Â  Â  Â  box-shadow: 0 4px 6px rgba(76, 81, 191, 0.3);
Â  Â  }
Â  Â  #submitButton:hover:not(:disabled) {
Â  Â  Â  background-color: #3f44a3;
Â  Â  Â  transform: translateY(-1px);
Â  Â  }
Â  Â  #shuffleButton, #endButton {
Â  Â  Â  background-color: var(--secondary-color);
Â  Â  Â  color: white;
Â  Â  Â  font-size: 14px;
Â  Â  }
Â  Â  #shuffleButton:hover:not(:disabled), #endButton:hover:not(:disabled) {
Â  Â  Â  background-color: #516075;
Â  Â  Â  transform: translateY(-1px);
Â  Â  }
Â  Â  #restartButton {
Â  Â  Â  background-color: var(--success-color);
Â  Â  Â  color: white;
Â  Â  Â  margin-top: 30px;
Â  Â  Â  padding: 15px;
Â  Â  Â  width: 100%;
Â  Â  Â  font-size: 18px;
Â  Â  }
Â  Â  button:disabled {
Â  Â  Â  background-color: var(--border-color) !important;
Â  Â  Â  color: #94a3b8 !important;
Â  Â  Â  cursor: not-allowed;
Â  Â  Â  box-shadow: none !important;
Â  Â  Â  transform: none !important;
Â  Â  }

Â  Â  /* --- Feedback & Messages --- */
Â  Â  .message {
Â  Â  Â  padding: 15px;
Â  Â  Â  margin-top: 25px;
Â  Â  Â  font-weight: 600;
Â  Â  Â  border-radius: var(--radius);
Â  Â  Â  color: white;
Â  Â  Â  text-align: left;
Â  Â  Â  animation: fadeIn 0.3s ease-out;
Â  Â  }
Â  Â  .message.success {
Â  Â  Â  background-color: var(--success-color);
Â  Â  }
Â  Â  .message.error {
Â  Â  Â  background-color: var(--error-color);
Â  Â  }
Â  Â  .message.info {
Â  Â  Â  background-color: var(--info-color);
Â  Â  }
Â  Â  .hint {
Â  Â  Â  margin-top: 20px;
Â  Â  Â  padding: 18px;
Â  Â  Â  font-size: 15px;
Â  Â  Â  font-weight: 500;
Â  Â  Â  color: var(--text-color);
Â  Â  Â  background-color: #fef3c7; /* Light yellow */
Â  Â  Â  border-radius: var(--radius);
Â  Â  Â  text-align: left;
Â  Â  Â  border-left: 5px solid #fbbf24; /* Amber border */
Â  Â  }
Â  Â  body.dark-mode .hint {
Â  Â  Â  background-color: var(--hint-bg, #4c51bf);
Â  Â  Â  color: var(--hint-text, #e0e7ff);
Â  Â  Â  border-left-color: #fcd34d;
Â  Â  }

Â  Â  /* --- Chain Display (using <section>) --- */
Â  Â  section.chain-display {
Â  Â  Â  margin-top: 35px;
Â  Â  Â  font-size: 15px;
Â  Â  Â  color: var(--secondary-color);
Â  Â  Â  text-align: left;
Â  Â  Â  padding: 15px;
Â  Â  Â  background-color: var(--bg-color);
Â  Â  Â  border-radius: var(--radius);
Â  Â  Â  line-height: 1.8;
Â  Â  Â  border: 1px dashed var(--border-color);
Â  Â  Â  overflow-x: auto; 
Â  Â  Â  white-space: nowrap;
Â  Â  }
Â  Â  section.chain-display strong {
Â  Â  Â  color: var(--primary-color);
Â  Â  Â  display: block;
Â  Â  Â  margin-bottom: 5px;
Â  Â  Â  white-space: normal; 
Â  Â  }
Â  </style>
</head>
<body>
Â  <main>
Â  Â  
Â  Â  <header>
Â  Â  Â  <h1>Chainle ğŸ”—</h1>
Â  Â  Â  <aside class="score-and-toggle">
Â  Â  Â  Â  <div class="score" id="score">Score: 0</div>
Â  Â  Â  Â  <div class="dark-mode-toggle" onclick="toggleDarkMode()" id="darkModeIcon">â˜€ï¸</div>
Â  Â  Â  </aside>
Â  Â  </header>
Â  Â  
Â  Â  <section class="word-display" id="currentWord">Loading Word...</section>

Â  Â  <form onsubmit="event.preventDefault(); submitSynonym();">
Â  Â  Â  <input type="text" id="synonymInput" placeholder="Enter the next synonym" disabled autocomplete="off">
Â  Â  Â  
Â  Â  Â  <div class="button-group">
Â  Â  Â  Â  <button type="submit" id="submitButton" disabled>SUBMIT SYNONYM</button>
Â  Â  Â  Â  <button type="button" onclick="shuffleWord()" id="shuffleButton" style="display:none;">SKIP</button>
Â  Â  Â  Â  <button type="button" onclick="endGame()" id="endButton" style="display:none;">END</button>
Â  Â  Â  </div>
Â  Â  </form>
Â  Â  
Â  Â  <section class="feedback">
Â  Â  Â  <div class="message" id="message"></div>
Â  Â  Â  <div class="hint" id="hintBox" style="display:none;">ğŸ’¡</div>
Â  Â  </section>
Â  Â  
Â  Â  <section class="chain-display" id="guessedWords">
Â  Â  Â  <strong>Full Chain:</strong> Start the chain!
Â  Â  </section>

Â  Â  <button type="button" onclick="startGame()" id="restartButton" style="display: none;">START NEW GAME</button>
Â  </main>

Â  Â  <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>

Â  <script>
Â  Â  let currentWord = "";
Â  Â  let currentPOS = "";
Â  Â  let score = 0;
Â  Â  let usedWords = new Set();
Â  Â  let chainWords = [];
Â  Â  let allSynonyms = [];
Â  Â  let guessCount = 0;
Â  Â  let hintGiven = false;

Â  Â  const synonymInput = document.getElementById("synonymInput");
Â  Â  const messageElement = document.getElementById("message");
Â  Â  const body = document.body;
Â  Â  const darkModeIcon = document.getElementById("darkModeIcon");

Â  Â  // Dark Mode Toggle Functionality
Â  Â  function toggleDarkMode() {
Â  Â  Â  body.classList.toggle('dark-mode');
Â  Â  Â  const isDarkMode = body.classList.contains('dark-mode');
Â  Â  Â  darkModeIcon.textContent = isDarkMode ? 'ğŸŒ™' : 'â˜€ï¸';
Â  Â  Â  localStorage.setItem('darkMode', isDarkMode);
Â  Â  }
Â  Â  if (localStorage.getItem('darkMode') === 'true') {
Â  Â  Â  toggleDarkMode();
Â  Â  } else {
Â  Â  Â  darkModeIcon.textContent = 'â˜€ï¸';
Â  Â  }

Â  Â  // Allows user to press Enter to submit via form submit event
Â  Â  // No need for explicit keypress listener now due to the <form onsubmit> handler

Â  Â  // Map POS tags to abbreviations
Â  Â  function formatPOS(tags) {
Â  Â  Â  if (!tags) return "";
Â  Â  Â  if (tags.includes("n")) return "noun";
Â  Â  Â  if (tags.includes("v")) return "verb";
Â  Â  Â  if (tags.includes("adj")) return "adj";
Â  Â  Â  if (tags.includes("adv")) return "adv";
Â  Â  Â  return "";
Â  Â  }

Â  Â  // Fetch a random word with POS (DataMuse API)
Â  Â  async function fetchRandomWord() {
Â  Â  Â  const alphabet = "abcdefghijklmnopqrstuvwxyz";
Â  Â  Â  const randomLetter = alphabet[Math.floor(Math.random() * alphabet.length)];
Â  Â  Â  const url = `https://api.datamuse.com/words?sp=${randomLetter}*&max=100&md=p`;
Â  Â  Â  try {
Â  Â  Â  Â  const response = await fetch(url);
Â  Â  Â  Â  const data = await response.json();
Â  Â  Â  Â  const singleWords = data.filter(entry => !entry.word.includes(" "));
Â  Â  Â  Â  if (singleWords.length > 0) {
Â  Â  Â  Â  Â  const randomIndex = Math.floor(Math.random() * singleWords.length);
Â  Â  Â  Â  Â  const entry = singleWords[randomIndex];
Â  Â  Â  Â  Â  return { word: entry.word, pos: formatPOS(entry.tags) };
Â  Â  Â  Â  }
Â  Â  Â  } catch (error) {
Â  Â  Â  Â  console.error("Error fetching random word:", error);
Â  Â  Â  Â  return null;
Â  Â  Â  }
Â  Â  Â  return null;
Â  Â  }

Â  Â  // Fetch synonyms and related words for a given word (DataMuse API)
Â  Â  async function fetchSynonyms(word) {
Â  Â  Â  const urls = [
Â  Â  Â  Â  `https://api.datamuse.com/words?rel_syn=${word}&max=30&md=p`,
Â  Â  Â  Â  `https://api.datamuse.com/words?ml=${word}&max=30&md=p`,
Â  Â  Â  Â  `https://api.datamuse.com/words?rel_trg=${word}&max=30&md=p`,
Â  Â  Â  ];
Â  Â  Â  try {
Â  Â  Â  Â  const results = await Promise.all(urls.map(u => fetch(u).then(r => r.json())));
Â  Â  Â  Â  const process = (list) =>
Â  Â  Â  Â  Â  list
Â  Â  Â  Â  Â  Â  .filter(entry => !entry.word.includes(" "))
Â  Â  Â  Â  Â  Â  .map(entry => ({
Â  Â  Â  Â  Â  Â  Â  word: entry.word.toLowerCase(),
Â  Â  Â  Â  Â  Â  Â  pos: formatPOS(entry.tags)
Â  Â  Â  Â  Â  Â  }));

Â  Â  Â  Â  const merged = results.flatMap(process);
Â  Â  Â  Â  const unique = [...new Map(merged.map(item => [item.word, item])).values()];
Â  Â  Â  Â  return unique;
Â  Â  Â  } catch (error) {
Â  Â  Â  Â  console.error("Error fetching synonyms:", error);
Â  Â  Â  Â  return [];
Â  Â  Â  }
Â  Â  }

Â  Â  // Update game display
Â  Â  function updateDisplay() {
Â  Â  Â  const wordDisplay = document.getElementById("currentWord");
Â  Â  Â  wordDisplay.innerHTML = `${currentWord.toUpperCase()} <span class="pos-tag">(${currentPOS})</span>`;
Â  Â  Â  document.getElementById("score").textContent = `Score: ${score}`;
Â  Â  Â  synonymInput.value = "";
Â  Â  Â  messageElement.textContent = "";
Â  Â  Â  messageElement.className = "message";
Â  Â  Â  
Â  Â  Â  // Show the entire chain history
Â  Â  Â  const displayWords = chainWords.length > 0 
Â  Â  Â  Â  ? chainWords.join(" â†’ ")
Â  Â  Â  Â  : "Start the chain!";
Â  Â  Â  document.getElementById("guessedWords").innerHTML = `<strong>Full Chain:</strong> ${displayWords}`;

Â  Â  Â  synonymInput.focus();
Â  Â  }

Â  Â  // Check if word used
Â  Â  function isWordUsed(word) {
Â  Â  Â  return usedWords.has(word.toLowerCase());
Â  Â  }

Â  Â  // Handle synonym submission
Â  Â  async function submitSynonym() {
Â  Â  Â  const userInput = synonymInput.value.trim().toLowerCase();
Â  Â  Â  if (!userInput) {
Â  Â  Â  Â  messageElement.textContent = "Please enter a word to submit.";
Â  Â  Â  Â  messageElement.className = "message info";
Â  Â  Â  Â  return;
Â  Â  Â  }
Â  Â  Â  
Â  Â  Â  const synonymEntry = allSynonyms.find(s => s.word === userInput);

Â  Â  Â  if (synonymEntry) {
Â  Â  Â  Â  if (!isWordUsed(userInput)) {
Â  Â  Â  Â  Â  // CORRECT SCORING: 10 points (no hint) / 5 points (with hint)
Â  Â  Â  Â  Â  const points = hintGiven ? 5 : 10;
Â  Â  Â  Â  Â  score += points; 
Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  usedWords.add(userInput);
Â  Â  Â  Â  Â  chainWords.push(userInput);
Â  Â  Â  Â  Â  currentWord = userInput; 
Â  Â  Â  Â  Â  currentPOS = synonymEntry.pos;

Â  Â  Â  Â  Â  allSynonyms = await fetchSynonyms(currentWord);

Â  Â  Â  Â  Â  if (allSynonyms.length === 0) {
Â  Â  Â  Â  Â  Â  messageElement.textContent = `ğŸ‰ Max Chain Reached! No more synonyms for "${currentWord.toUpperCase()}". Final Score: ${score}`;
Â  Â  Â  Â  Â  Â  messageElement.className = "message success";
Â  Â  Â  Â  Â  Â  endGame(true); 
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  updateDisplay();
Â  Â  Â  Â  Â  messageElement.textContent = `âœ… Chain extended! +${points} points. Total Score: ${score}`;
Â  Â  Â  Â  Â  messageElement.className = "message success";
Â  Â  Â  Â  Â  guessCount = 0;
Â  Â  Â  Â  Â  document.getElementById("hintBox").style.display = "none";
Â  Â  Â  Â  Â  hintGiven = false;

Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  // WORD USED
Â  Â  Â  Â  Â  messageElement.textContent = `ğŸ”„ "${userInput.toUpperCase()}" already in the chain. Try a different synonym.`;
Â  Â  Â  Â  Â  messageElement.className = "message info";
Â  Â  Â  Â  Â  synonymInput.value = "";
Â  Â  Â  Â  Â  synonymInput.focus();
Â  Â  Â  Â  }
Â  Â  Â  } else {
Â  Â  Â  Â  // INCORRECT WORD
Â  Â  Â  Â  
Â  Â  Â  Â  if (hintGiven) {
Â  Â  Â  Â  Â  messageElement.textContent = `âŒ Game Over! Failed after hint. The chain ended at "${currentWord.toUpperCase()}".`;
Â  Â  Â  Â  Â  messageElement.className = "message error";
Â  Â  Â  Â  Â  endGame();
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  guessCount++;
Â  Â  Â  Â  Â  synonymInput.value = "";
Â  Â  Â  Â  Â  synonymInput.focus();
Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  const triesLeft = 3 - guessCount;
Â  Â  Â  Â  Â  messageElement.textContent = `âŒ Incorrect. Tries left before hint: ${triesLeft}`;
Â  Â  Â  Â  Â  messageElement.className = "message error";
Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  if (guessCount >= 3) {
Â  Â  Â  Â  Â  Â  document.getElementById("hintBox").style.display = "block";
Â  Â  Â  Â  Â  Â  const availableSynonyms = allSynonyms.filter(s => !isWordUsed(s.word));
Â  Â  Â  Â  Â  Â  const hints = availableSynonyms.slice(0, 3).map(s => `${s.word} (${s.pos})`);
Â  Â  Â  Â  Â  Â  document.getElementById("hintBox").innerHTML = `ğŸ’¡ **Hint** (One try left, 5 points only): Try words like: *${hints.join(", ")}*`;
Â  Â  Â  Â  Â  Â  hintGiven = true;
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  }
Â  Â  }

Â  Â  // Shuffle to a new random word
Â  Â  async function shuffleWord() {
Â  Â  Â  document.getElementById("currentWord").textContent = "FETCHING NEW WORD...";
Â  Â  Â  
Â  Â  Â  // Disable all buttons
Â  Â  Â  document.getElementById("submitButton").disabled = true;
Â  Â  Â  document.getElementById("shuffleButton").disabled = true;
Â  Â  Â  document.getElementById("endButton").disabled = true;

Â  Â  Â  let newEntry = null;
Â  Â  Â  let synonyms = [];
Â  Â  Â  do {
Â  Â  Â  Â  newEntry = await fetchRandomWord();
Â  Â  Â  Â  if (newEntry) {
Â  Â  Â  Â  Â  synonyms = await fetchSynonyms(newEntry.word);
Â  Â  Â  Â  }
Â  Â  Â  } while (!newEntry || synonyms.length === 0);

Â  Â  Â  currentWord = newEntry.word;
Â  Â  Â  currentPOS = newEntry.pos;
Â  Â  Â  allSynonyms = synonyms;
Â  Â  Â  
Â  Â  Â  // Initialize the chain and used words set with the starting word
Â  Â  Â  usedWords.add(currentWord);
Â  Â  Â  chainWords.push(currentWord);

Â  Â  Â  updateDisplay();
Â  Â  Â  
Â  Â  Â  document.getElementById("hintBox").style.display = "none";
Â  Â  Â  messageElement.textContent = `New starting word: ${currentWord.toUpperCase()}. Extend the chain!`;
Â  Â  Â  messageElement.className = "message info";
Â  Â  Â  
Â  Â  Â  guessCount = 0;
Â  Â  Â  hintGiven = false;
Â  Â  Â  
Â  Â  Â  // Re-enable buttons
Â  Â  Â  document.getElementById("submitButton").disabled = false;
Â  Â  Â  document.getElementById("shuffleButton").disabled = false;
Â  Â  Â  document.getElementById("endButton").disabled = false;
Â  Â  }

Â  Â  // Start the game
Â  Â  async function startGame() {
Â  Â  Â  // Reset state
Â  Â  Â  score = 0;
Â  Â  Â  chainWords = [];
Â  Â  Â  usedWords.clear();
Â  Â  Â  
Â  Â  Â  await shuffleWord();

Â  Â  Â  document.getElementById("endButton").style.display = "inline-block";
Â  Â  Â  document.getElementById("shuffleButton").style.display = "inline-block";
Â  Â  Â  document.getElementById("restartButton").style.display = "none";
Â  Â  Â  document.getElementById("synonymInput").disabled = false;
Â  Â  Â  document.getElementById("submitButton").disabled = false;
Â  Â  Â  
Â  Â  Â  synonymInput.focus();
Â  Â  }

Â  Â  // End the game
Â  Â  function endGame(graceful = false) {
Â  Â  Â  if (!graceful) {
Â  Â  Â  Â  messageElement.textContent = `ğŸ›‘ CHAIN BROKEN. Your final score is ${score}.`;
Â  Â  Â  Â  messageElement.className = "message error";
Â  Â  Â  }
Â  Â  Â  
Â  Â  Â  // Show the full chain in the final summary
Â  Â  Â  document.getElementById("guessedWords").innerHTML = `
Â  Â  Â  Â  <strong>Final Chain Length:</strong> ${chainWords.length}<br>
Â  Â  Â  Â  <strong>Full Chain:</strong> ${chainWords.join(" â†’ ")}
Â  Â  Â  `;
Â  Â  Â  Â  Â  
Â  Â  Â  document.getElementById("endButton").style.display = "none";
Â  Â  Â  document.getElementById("shuffleButton").style.display = "none";
Â  Â  Â  document.getElementById("restartButton").style.display = "block";
Â  Â  Â  document.getElementById("synonymInput").disabled = true;
Â  Â  Â  document.getElementById("submitButton").disabled = true;
Â  Â  Â  document.getElementById("hintBox").style.display = "none";
Â  Â  }

Â  Â  // Start game on load
Â  Â  startGame();
Â  </script>
</body>
</html>